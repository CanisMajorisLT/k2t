{"version":3,"sources":["record_statistics.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAmBM,QAAQ,GACC,SADT,QAAQ,CACE,QAAQ,EAAE;0BADpB,QAAQ;;AAEN,QAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;AAC9B,QAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC;AAChD,QAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AAC5B,QAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpB,QAAI,CAAC,SAAS,GAAG,EAAE,CAAA;CAEtB;;;;;AAKL,SAAS,WAAW,CAAC,QAAQ,EAAE;AAC3B,QAAI,cAAc,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAClE,QAAI,cAAc,EAAE;AAChB,eAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAA;KACpC,MACI;AACD,YAAI,KAAK,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC;AACnC,cAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;AACpE,eAAO,KAAK,CAAA;KACf;CAEJ;;AAED,IAAI,eAAe,GAAG,MAAM,CAAC,OAAO,GAAG,UAAU,WAAW,EAAE,QAAQ,EAAE;AACpE,QAAI,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC,CAAC;AACrC,QAAI,eAAe,GAAG,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAC/D,QAAI,SAAS,YAAA,CAAC;AACd,QAAI,eAAe,KAAK,SAAS,EAAE;AAC/B,iBAAS,GAAG,eAAe,CAAA;KAC9B,MACI;AACD,gBAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;AAC9C,iBAAS,GAAG,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAA;KACvD;AACD,aAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;;AAE5B,QAAI,QAAQ,CAAC,WAAW,GAAG,CAAC,KAAK,QAAQ,CAAC,aAAa,EAAE;AACrD,gBAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;KAChC;;;AAGD,UAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAA;CACzE,CAAC","file":"record_statistics-compiled.js","sourcesContent":["/*\r\n let statisticsForText = {\r\n textId,\r\n typingStartTime,\r\n typingFinishTime,\r\n misstakes,\r\n fastestWord,\r\n slowestWord\r\n };\r\n let statisticForWord = {\r\n word,\r\n avgTypingTime,\r\n slowestTypingTime,\r\n fastestTypingTime,\r\n indexWhereMisstakeStarted // tada butu galima daryt kaip heatmapa zodziais ir matyt kur dazniausiai prasideda klaida\r\n\r\n };*/\r\n\r\n\r\nclass StatsObj {\r\n    constructor(textData) {\r\n        this.gameId = textData.gameId;\r\n        this.textLengthInWords = textData.lengthInWords;\r\n        this.startTime = Date.now();\r\n        this.endTime = null;\r\n        this.wordStats = []\r\n\r\n    }\r\n}\r\n\r\n\r\n// TODO parasyt su karma testus\r\nfunction getStatsObj(textData) {\r\n    let statsFromLocal = window.localStorage.getItem(textData.gameId);\r\n    if (statsFromLocal) {\r\n        return JSON.parse(statsFromLocal)\r\n    }\r\n    else {\r\n        let stats = new StatsObj(textData);\r\n        window.localStorage.setItem(textData.gameId, JSON.stringify(stats));\r\n        return stats\r\n    }\r\n\r\n}\r\n\r\nlet recordStatistic = module.exports = function (inputResult, textData) {\r\n    let statsObj = getStatsObj(textData);\r\n    var oneWordStatCont = statsObj.wordStats[textData.currentWord];\r\n    let wordStats;\r\n    if (oneWordStatCont !== undefined) {\r\n        wordStats = oneWordStatCont\r\n    }\r\n    else {\r\n        statsObj.wordStats[textData.currentWord] = [];\r\n        wordStats = statsObj.wordStats[textData.currentWord]\r\n    }\r\n    wordStats.push(inputResult);\r\n\r\n    if (textData.currentWord + 1 === textData.lengthInWords) {\r\n        statsObj.endTime = Date.now()\r\n    }\r\n    //console.log('wordStats', wordStats);\r\n\r\n    window.localStorage.setItem(textData.gameId, JSON.stringify(statsObj))\r\n};\r\n\r\n"]}